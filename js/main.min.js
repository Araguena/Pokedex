function onDOMContentLoad(){function a(){var a=new XMLHttpRequest;a.open("GET","http://pokeapi.co/api/v1/pokemon/?limit="+f.limit+"&offset="+f.offset),a.send(),a.onload=function(){var a=JSON.parse(this.responseText),c=a.objects;b(c),a.meta.next?i.classList="js-load-more visible load-btn":i.classList="js-load-more hidden load-btn",f.offset+=f.limit}}function b(a){function b(a){var b=document.createElement("article");b.setAttribute("data-pokemon-id",a.pkdx_id),b.classList="pokemon-card";var d=document.createElement("img");d.setAttribute("src","http://pokeapi.co/media/img/"+a.pkdx_id+".png"),b.appendChild(d);var e=document.createElement("h3");e.textContent=a.name,b.appendChild(e),a.types.forEach(function(a){var c=document.createElement("div");switch(c.textContent=a.name,c.classList="type-label",a.name){case"normal":c.classList+=" normal-type";break;case"fighting":c.classList+=" fighting-type";break;case"flying":c.classList+=" flying-type";break;case"poison":c.classList+=" poison-type";break;case"ground":c.classList+=" ground-type";break;case"rock":c.classList+=" rock-type";break;case"bug":c.classList+=" bug-type";break;case"ghost":c.classList+=" ghost-type";break;case"steel":c.classList+=" steel-type";break;case"fire":c.classList+=" fire-type";break;case"water":c.classList+=" water-type";break;case"grass":c.classList+=" grass-type";break;case"electric":c.classList+=" rock-type";break;case"psychic":c.classList+=" psychic-type";break;case"ice":c.classList+=" ice-type";break;case"dragon":c.classList+=" dragon-type";break;case"dark":c.classList+=" dark-type";break;case"fairy":c.classList+=" fairy-type"}b.appendChild(c)}),c.appendChild(b)}var c=document.createDocumentFragment();a.forEach(b),g.appendChild(c)}function c(a){for(var b=a.target;b!=a.currentTarget;){if(d(b)&&b.getAttribute("data-pokemon-id")!=h.getAttribute("data-pokemon-id"))return h.classList="pokemon-details visible",h.setAttribute("data-pokemon-id",b.getAttribute("data-pokemon-id")),void e(b.getAttribute("data-pokemon-id"));b=b.parentNode}}function d(a){return a.hasAttribute("data-pokemon-id")}function e(a){var b=new XMLHttpRequest;b.open("GET","http://pokeapi.co/api/v1/pokemon/"+a+"/"),b.send(),b.onload=function(){var a=JSON.parse(this.responseText),b=document.querySelector(".pokemon-details img");b.setAttribute("src","http://pokeapi.co/media/img/"+a.pkdx_id+".png"),b.setAttribute("alt","Pokemon image for "+a.name);var c=document.querySelector(".pokemon-details h3");c.textContent=a.name+" #"+a.pkdx_id;var d=document.querySelector('[data-details-type="types"]');d.textContent="",a.types.forEach(function(a){d.textContent+=a.name+" "});var e=document.querySelector('[data-details-type="attack"]');e.textContent=a.attack;var f=document.querySelector('[data-details-type="defense"]');f.textContent=a.defense;var g=document.querySelector('[data-details-type="hp"]');g.textContent=a.hp;var h=document.querySelector('[data-details-type="sp_attack"]');h.textContent=a.sp_atk;var i=document.querySelector('[data-details-type="sp_def"]');i.textContent=a.sp_def;var j=document.querySelector('[data-details-type="speed"]');j.textContent=a.speed;var k=document.querySelector('[data-details-type="weight"]');k.textContent=a.weight;var l=document.querySelector('[data-details-type="moves"]');l.textContent=a.moves.length}}var f={limit:12,offset:0},g=document.querySelector(".pokemon-container");g.addEventListener("click",c);var h=document.querySelector(".pokemon-details"),i=document.querySelector(".js-load-more");i.addEventListener("click",a),a()}document.addEventListener("DOMContentLoaded",onDOMContentLoad);